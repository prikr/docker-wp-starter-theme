{"version":3,"sources":["webpack://prikr-wp-starter/./src/js/googlemap.js"],"names":["jQuery","document","ready","$","initMap","$el","$markers","find","mapArgs","zoom","data","mapTypeId","google","maps","MapTypeId","ROADMAP","map","Map","markers","each","initMarker","centerMap","$marker","lat","lng","latLng","parseFloat","marker","Marker","position","push","html","infowindow","InfoWindow","content","event","addListener","open","bounds","LatLngBounds","forEach","extend","length","setCenter","getCenter","fitBounds"],"mappings":"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","file":"src_js_googlemap_js.scripts.min.js","sourcesContent":["/** \n * jQuery: Send new jobalert query to database\n */\njQuery(document).ready(function ($) {\n\n  /**\n   * initMap\n   *\n   * Renders a Google Map onto the selected jQuery element\n   *\n   * @date    22/10/19\n   * @since   5.8.6\n   *\n   * @param   jQuery $el The jQuery element.\n   * @return  object The map instance.\n   */\n  function initMap($el) {\n\n    // Find marker elements within map.\n    var $markers = $el.find('.marker');\n\n    // Create gerenic map.\n    var mapArgs = {\n      zoom: $el.data('zoom') || 16,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    var map = new google.maps.Map($el[0], mapArgs);\n\n    // Add markers.\n    map.markers = [];\n    $markers.each(function () {\n      initMarker($(this), map);\n    });\n\n    // Center map based on markers.\n    centerMap(map);\n\n    // Return map instance.\n    return map;\n  }\n\n  /**\n   * initMarker\n   *\n   * Creates a marker for the given jQuery element and map.\n   *\n   * @date    22/10/19\n   * @since   5.8.6\n   *\n   * @param   jQuery $el The jQuery element.\n   * @param   object The map instance.\n   * @return  object The marker instance.\n   */\n\n\n  function initMarker($marker, map) {\n\n    // Get position from marker.\n    var lat = $marker.data('lat');\n    var lng = $marker.data('lng');\n    var latLng = {\n      lat: parseFloat(lat),\n      lng: parseFloat(lng)\n    };\n\n    // Create marker instance.\n    var marker = new google.maps.Marker({\n      position: latLng,\n      map: map\n    });\n\n    // Append to reference for later use.\n    map.markers.push(marker);\n\n    // If marker contains HTML, add it to an infoWindow.\n    if ($marker.html()) {\n\n      // Create info window.\n      var infowindow = new google.maps.InfoWindow({\n        content: $marker.html()\n      });\n\n      // Show info window when marker is clicked.\n      google.maps.event.addListener(marker, 'click', function () {\n        infowindow.open(map, marker);\n      });\n    }\n  }\n\n  /**\n   * centerMap\n   *\n   * Centers the map showing all markers in view.\n   *\n   * @date    22/10/19\n   * @since   5.8.6\n   *\n   * @param   object The map instance.\n   * @return  void\n   */\n  function centerMap(map) {\n\n    // Create map boundaries from all map markers.\n    var bounds = new google.maps.LatLngBounds();\n    map.markers.forEach(function (marker) {\n      bounds.extend({\n        lat: marker.position.lat(),\n        lng: marker.position.lng()\n      });\n    });\n\n    // Case: Single marker.\n    if (map.markers.length == 1) {\n      map.setCenter(bounds.getCenter());\n\n      // Case: Multiple markers.\n    } else {\n      map.fitBounds(bounds);\n    }\n  }\n\n  $('.acf-map').each(function () {\n    var map = initMap($(this));\n  });\n\n\n});"],"sourceRoot":""}